
<div class="wrapper wrapper-content animated fadeInRight" ng-app="angapp" ng-controller="PropertyController as Property">
  <div class="row">
    <div class="col-lg-12">
      <div class="inqbox float-e-margins">
        <div class="inqbox-content">
          <h2>Property </h2>
          <ol class="breadcrumb">
            <li>
              <a ui-sref="home"><i class="fa fa-laptop"></i> <span class="nav-label">home</span></a>
            </li>
            <li>
              <a ui-sref="property"> <span class="nav-label">Property</span></a>
            </li>
            <li class="active">
              <strong>Property Form</strong>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <div class="row" block-ui="myBlockUI">

    <div class="col-lg-12">
      <div class="inqbox float-e-margins">
        <div class="inqbox-title border-top-success">

        </div>
        <div class="inqbox-content">
          <div class="kform">
            <form id="formProperty" role="form" class="form-horizontal" name="formProperty" ng-submit="formProperty.$valid && create(Property)" novalidate>
              <div class="section-divider mb40" id="spy1">
                <span>Form Property </span>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Title Ar</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" ng-model="current.TitleAr"
                         placeholder="Enter Property Title Ar" name="TitleArValidation" required="">
                  <div ng-show="formProperty.$submitted || formProperty.TitleArValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.TitleArValidation.$error.required">Please type Property Title Ar.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Title</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" ng-model="current.Title"
                         placeholder="Enter Property Title" name="TitleValidation" required="">
                  <div ng-show="formProperty.$submitted || formProperty.TitleValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.TitleValidation.$error.required">Please type Property Title.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Description Ar</label>
                <div class="col-sm-10">

                  <textarea type="text" class="gui-textarea" ng-model="current.DescriptionAr"
                            placeholder="Enter DescriptionAr" name="DescriptionArValidation" required=""></textarea>
                  <div ng-show="formProperty.$submitted || formProperty.DescriptionArValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.DescriptionArValidation.$error.required">Please type Property Description Ar.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Description</label>
                <div class="col-sm-10">
                  <textarea type="text" class="gui-textarea" ng-model="current.Description"
                            placeholder="Enter Description" name="DescriptionValidation" required=""></textarea>
                  <div ng-show="formProperty.$submitted || formProperty.DescriptionValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.DescriptionValidation.$error.required">Please type Property Description.</label>
                  </div>
                </div>
              </div>

              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Address Ar</label>
                <div class="col-sm-10">

                  <textarea type="text" class="gui-textarea" ng-model="current.AddressAr"
                            placeholder="Enter Address Ar" name="AddressArrValidation" required=""></textarea>
                  <div ng-show="formProperty.$submitted || formProperty.AddressArrValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.AddressArrValidation.$error.required">Please type Property Address Ar.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Address </label>
                <div class="col-sm-10">

                  <textarea type="text" class="gui-textarea" ng-model="current.Address"
                            placeholder="Enter Address" name="AddressValidation" required=""></textarea>
                  <div ng-show="formProperty.$submitted || formProperty.AddressValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.AddressValidation.$error.required">Please type Property Address.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group" ng-class="{error: formProperty.PriceValidation.$invalid}">
                <label class="col-sm-2 control-label">Price</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" ng-model="current.Price"
                         placeholder="Enter Property Price" name="PriceValidation"
                         ng-minlength="4" ng-maxlength="7" required="">
                  <div ng-show="formProperty.$submitted || formProperty.PriceValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.PriceValidation.$error.required">Please type Property Price.</label>
                    <label id="-error" class="alert-error" ng-show="formProperty.PriceValidation.$error.minlength">minimum 4 digit .</label>
                    <label id="-error" class="alert-error" ng-show="formProperty.PriceValidation.$error.maxlength">maximum 7 digit.</label>
                  </div>
                </div>
              </div>

              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Currency	</label>
                <div class="col-sm-10">
                  <div class="i-checks">
                    <label>
                      <div ng-dropdown-multiselect="" options="currencydata"
                           name="currencies" selected-model="currencymodel"
                           extra-settings="currencysettings"></div>
                    </label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Room No</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" ng-model="current.RoomsNo"
                         placeholder="Enter Property Rooms No" name="RoomsNoValidation" required="">
                  <div ng-show="formProperty.$submitted || formProperty.RoomsNoValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.RoomsNoValidation.$error.required">Please type Property Rooms No.</label>
                  </div>
                </div>
              </div>

              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Bathroom No</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" ng-model="current.BathroomNo"
                         placeholder="Enter Property Bathroom No" name="BathroomNoValidation" required="">
                  <div ng-show="formProperty.$submitted || formProperty.BathroomNoValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.BathroomNoValidation.$error.required">Please type Property Bathroom No.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Bedroom No</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" ng-model="current.BedroomNo"
                         placeholder="Enter Property Bedroom No" name="BedroomNoValidation" required="">
                  <div ng-show="formProperty.$submitted || formProperty.BedroomNoValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.BedroomNoValidation.$error.required">Please type Property Bedroom No.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Reception No</label>
                <div class="col-sm-10">
                  <input type="number" class="form-control" ng-model="current.ReceptionNo"
                         placeholder="Enter Property Reception No" name="ReceptionNoValidation" required="">
                  <div ng-show="formProperty.$submitted || formProperty.ReceptionNoValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.ReceptionNoValidation.$error.required">Please type Property Reception No.</label>
                  </div>
                </div>
              </div>

              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Lift</label>
                <div class="col-sm-10">
                  <input type="checkbox" checked="checked" ng-model="current.Lift"
                         value="" name="LiftValidation"> <i></i>

                  <div ng-show="formProperty.$submitted || formProperty.LiftValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.LiftValidation.$error.required">Please check Property Lift.</label>
                  </div>
                </div>
              </div>

              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Balacony</label>
                <div class="col-sm-10">
                  <input type="checkbox" checked="checked" ng-model="current.Balacony"
                         value="" name="BalaconyValidation"> <i></i>

                  <div ng-show="formProperty.$submitted || formProperty.BalaconyValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.BalaconyValidation.$error.required">Please check Property Balacony.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Garden</label>
                <div class="col-sm-10">
                  <input type="checkbox" checked="checked" ng-model="current.Garden"
                         value="" name="GardenValidation"> <i></i>

                  <div ng-show="formProperty.$submitted || formProperty.GardenValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.GardenValidation.$error.required">Please check Property Garden.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Pool</label>
                <div class="col-sm-10">
                  <input type="checkbox" checked="checked" ng-model="current.Pool"
                         value="" name="PoolValidation"> <i></i>

                  <div ng-show="formProperty.$submitted || formProperty.PoolValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.PoolValidation.$error.required">Please check Property Pool.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Garden</label>
                <div class="col-sm-10">
                  <input type="checkbox" checked="checked" ng-model="current.Garage"
                         value="" name="GarageValidation"> <i></i>

                  <div ng-show="formProperty.$submitted || formProperty.GarageValidation.$touched">
                    <label id="-error" class="alert-error" ng-show="formProperty.GarageValidation.$error.required">Please check Property Garage.</label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Square	</label>
                <div class="col-sm-10">
                  <div class="i-checks">
                    <label>
                      <div ng-dropdown-multiselect="" options="squaredata"
                           name="squares" selected-model="squaremodel"
                           extra-settings="squaresettings"></div>
                    </label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Contract Type	</label>
                <div class="col-sm-10">
                  <div class="i-checks">
                    <label>
                      <div ng-dropdown-multiselect="" options="contracttypedata"
                           name="contracttypes" selected-model="contracttypemodel"
                           extra-settings="contracttypesettings"></div>
                    </label>
                  </div>
                </div>
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Room Images	</label>
                <div class="col-md-6">
                  <div class="section">
                    <form name="myFormmedia">
                      <label class="field prepend-icon append-button file">
                        <span class="button btn-primary">Choose File</span>

                        <input type="file" class="gui-file"
                               ngf-select ng-model="picFile" name="file"
                               accept="image/*" ngf-max-size="2MB" required
                               ngf-model-invalid="errorFile"
                               onchange="document.getElementById('uploader1').value = this.value;">
                        <input type="text" class="gui-input" id="uploader1" placeholder="Please Select A File">
                        <label class="field-icon">
                          <i class="fa fa-upload"></i>
                        </label>
                        <i ng-show="myFormmedia.file.$error.maxSize">
                          File too large
                          {{errorFile.size / 1000000|number:1}}MB: max 2M
                        </i>
                        <!--<img ng-show="myFormmedia.file.$valid" ngf-thumbnail="picFile" class="thumb">-->

                      </label>
                      <button class="btn btn-primary pull-left"
                              ng-click="uploadPic(picFile)">
                        Upload
                      </button>
                      <div class="hr-line-dashed"></div>

                      <div ng-repeat="image in  balaconyImages">

                        <img class="thumb" ng-src="{{MainURL}}/Upload/{{image.Image}}" />
                        <a data-toggle="#" ng-click="removeImage(image.Id)">
                          <img src="../../../Images/delete-icon.png" class="iconsthumb" />
                        </a>
                      </div>
                    </form>
                  </div>
                </div>

              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Room Images	</label>
                <div class="col-md-6">
                  <div class="section"> 
                    <!--<form name="myForm">
                          <fieldset>
                            <legend>Upload on form submit</legend>
                            <br>Photo:
                            <input type="file" ngf-select ng-model="picFile" name="file"
                                   accept="image/*" ngf-max-size="2MB" required
                                   ngf-model-invalid="errorFile">
                            <i ng-show="myForm.file.$error.maxSize">
                              File too large
                              {{errorFile.size / 1000000|number:1}}MB: max 2M
                            </i>
                            <img ng-show="myForm.file.$valid" ngf-thumbnail="picFile" class="thumb">
                            <br>
                            <button ng-disabled="!myForm.$valid"
                                    ng-click="uploadBalaconyPic(picFile)">
                              Submit
                            </button>
                            <span class="progress" ng-show="picFile.progress >= 0">
                              <div style="width:{{picFile.progress}}%"
                                   ng-bind="picFile.progress + '%'"></div>
                            </span>
                            <span ng-show="picFile.result">Upload Successful</span>
                            <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
                          </fieldset>
                          <br>
                        </form>-->
                  </div>
                </div> 
              </div>
              <div class="hr-line-dashed"></div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Property Type	</label>
                <div class="col-sm-10">
                  <div class="i-checks">
                    <label>
                      <div ng-dropdown-multiselect="" options="propertytypedata"
                           name="propertytypes" selected-model="propertytypemodel"
                           extra-settings="propertytypesettings"></div>
                    </label>
                  </div>
                </div>
              </div>  <div class="hr-line-dashed"></div>
              <div class="form-group">
                <div class="col-sm-4 col-sm-offset-2">
                  <button class="btn btn-white" type="submit">Cancel</button>
                  <!--<button class="btn btn-primary" type="submit">Update</button>-->
                  <input type="submit" class="btn btn-primary" value="Save" ng-disabled="formProperty.$invalid" />

                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!--<div class="form-group">
    <ng-map center="{{latlng}}" zoom="17" on-click="getpos($event)">
      <marker position="{{latlng}}" title="Hello World!" on-dragend="getpos($event)"
              animation="Animation.BOUNCE" animation="DROP" draggable="true"></marker>
    </ng-map>
    {{latlng}}
  </div>-->

</div>

